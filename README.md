# Django Copy-Paste

**IMHO** ‚Äî —É–¥–æ–±–Ω—ã–π –∏ –ª–æ–≥–∏—á–Ω—ã–π —Å–∫–µ–ª–µ—Ç Django-–ø—Ä–æ–µ–∫—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å—Ä–∞–∑—É:

* –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ **–∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞** (`source/`) –∏ **runtime-—Ñ–∞–π–ª–æ–≤** (`runtime/`)
* –û—Ç–¥–µ–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è **–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π** (`apps/`), —á—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ **.env**, —Å –≥–∏–±–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SQLite –∏ PostgreSQL
* –ì–æ—Ç–æ–≤–æ–µ –∫ —Ä–∞–±–æ—Ç–µ **–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**, –≤–∫–ª—é—á–∞—è —Ä–æ—Ç–∞—Ü–∏—é, –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫
* –ë–µ–∑ –ª–∏—à–Ω–µ–≥–æ ‚Äî –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ –Ω–µ –Ω–∞–≤—è–∑–∞–Ω–æ, –Ω–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–∏—Ç—å

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
django-copy-paste/
‚îú‚îÄ‚îÄ source/                       # –í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ source_project/           # –û—Å–Ω–æ–≤–Ω–æ–π Django –ø—Ä–æ–µ–∫—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py               # URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py               # WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ apps/                     # Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ templates/                # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ static/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ manage.py                 # Django –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ runtime/                      # Runtime —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ logs/                     # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ media/                    # –§–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ staticfiles/              # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ db.sqlite3                # SQLite –±–∞–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îú‚îÄ‚îÄ .env                          # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è git)
‚îú‚îÄ‚îÄ .env.example                  # –®–∞–±–ª–æ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore                    # –ü—Ä–∞–≤–∏–ª–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è git
‚îú‚îÄ‚îÄ LICENSE                       # MIT –ª–∏—Ü–µ–Ω–∑–∏—è
‚îî‚îÄ‚îÄ README.md                     # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
DEBUG=True
ALLOWED_HOSTS=127.0.0.1,localhost

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_MODE=sqlite  # –∏–ª–∏ 'psql' –¥–ª—è PostgreSQL
DATABASE_NAME=–∏–º—è_–±–∞–∑—ã
DATABASE_USER=–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–±–∞–∑—ã
DATABASE_PASSWORD=–ø–∞—Ä–æ–ª—å_–±–∞–∑—ã
DATABASE_HOST=localhost
DATABASE_PORT=5432

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è email
EMAIL_MODE=console  # –∏–ª–∏ 'smtp' –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=–≤–∞—à_email@gmail.com
EMAIL_HOST_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å

# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
RUNTIME_DIR=/–ø—É—Ç—å/–∫/runtime
LOG_DIR=/–ø—É—Ç—å/–∫/–ª–æ–≥–∞–º
STATIC_ROOT=/–ø—É—Ç—å/–∫/—Å—Ç–∞—Ç–∏–∫–µ
MEDIA_ROOT=/–ø—É—Ç—å/–∫/–º–µ–¥–∏–∞
```

### –†–µ–∂–∏–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

* **SQLite** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
* **PostgreSQL**: –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –†–µ–∂–∏–º—ã email

* **Console**: –í—Å–µ –ø–∏—Å—å–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
* **SMTP**: –ù–∞—Å—Ç–æ—è—â–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤

* `runtime/logs/info.log` ‚Äî –æ–±—ã—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
* `runtime/logs/errors.log` ‚Äî –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

* –†–æ—Ç–∞—Ü–∏—è: 15MB + 3 —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞
* UTF-8 –ø–æ–¥–¥–µ—Ä–∂–∫–∞
* –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ DEBUG=True
* –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –ª–æ–≥–æ–≤

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤:

* DEBUG / INFO / WARNING / ERROR / CRITICAL

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

* Content-Type sniffing –∑–∞—â–∏—Ç–∞
* –í–∫–ª—é—á—ë–Ω–Ω—ã–π XSS —Ñ–∏–ª—å—Ç—Ä
* `X-Frame-Options: DENY`
* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies
* CSRF –∑–∞—â–∏—Ç–∞
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `X-Forwarded-*` –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```txt
Django>=4.2,<5.0
python-dotenv>=1.0.0
psycopg2-binary>=2.9.0  # –µ—Å–ª–∏ PostgreSQL
```

## üß© –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

```bash
# poetry + pre-commit + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
poetry add django python-dotenv
poetry add --group dev ruff black isort pre-commit pytest pytest-django

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è dev
poetry add --group dev django-extensions django-debug-toolbar

# Docker
mkdir docker
# –î–∞–ª–µ–µ: Dockerfile, docker-compose.yml –∏ —Ç.–¥.
```
